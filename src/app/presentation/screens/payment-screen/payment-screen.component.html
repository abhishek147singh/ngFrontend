<div class="section-container">
    <div class="form-section">
        <app-section title="ORDER TOTAL">
            <div class="card">
                <div class="row">
                    <div class="title">Products</div>
                </div>
    
                <!-- Product list -->
                @for (product of cartProducts; track product.productId) {
                    <div class="row product">
                        <div class="product">
                            <div class="image-box">
                                <img [src]="product.Image" alt="Product Image">
                            </div>
                            <div class="text-details">
                                <div class="other-details">
                                    <a [routerLink]="['/', 'product', product.productId]">{{product.Name}}</a>
                                </div>
                                <div class="price">
                                    ₹{{getProductPrice(product.price , product.count)}}
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <div class="card" style="margin-top: 20px;">
                <div class="row">
                    <div class="title">Payment</div>
                </div>
                <div>
                   <strong>Method:</strong>  {{OrderDetials?.paymentMethod}}
                </div>
                
                <div class="alert" style="margin-top: 20px;">
                    <div class="icon">
                        <svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ErrorOutlineIcon"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>
                    </div>
                    <div class="text">
                        Not Paid
                    </div>
                </div>
            </div>


            <div class="card" style="margin-top: 20px;">
                <div class="row">
                    <div class="title">Shipping Details</div>
                </div>
                <div>
                    <app-shipping-address [shippingState]="shippingState"></app-shipping-address>
                </div>
                
                <div class="alert">
                    <div class="icon">
                        <svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ErrorOutlineIcon"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>
                    </div>
                    <div class="text">
                        Not Delivered
                    </div>
                </div>
            </div>
        </app-section>
    </div>

    <div class="action-section">
        <app-section title="PAYMENT">
            <div class="card">
                <div class="row">
                    <div class="title">Subtotal</div>
                    <div class="value">₹{{getProductTotal(cartProducts)}}</div>
                </div>
                <div class="row">
                    <div class="title">Shipping</div>
                    <div class="value">₹{{shippingCharge}}</div>
                </div>

                <div class="divider"></div>

                <div class="row main">
                    <div class="title">Total</div>
                    <div class="value">₹{{getTotal(cartProducts)}}</div>
                </div>

                <button class="procced-btn">Procced To Payment</button>
            </div>
        </app-section>
    </div>
</div>