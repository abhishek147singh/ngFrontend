<header>
    <div class="upper-header">
        <div class="logo-container">
            <h1 routerLink="/">NAGA JI</h1>
        </div>
        <div class="search-container">
            <div class="search-box">
                <input type="text" #searchInput placeholder="Search for products">
                <button (click)="onSearch(searchInput.value)"><i class="fa-solid fa-magnifying-glass"></i></button>
            </div>
        </div>
        <div class="other-details-container">
            <div>
                <p>Customer Service</p>
                <h4>+91 12345 56789</h4>
            </div>    
        </div>
    </div>
    <div class="lower-header">
        <div class="category-container" (click)="isCategoryDropDownActive = !isCategoryDropDownActive">
            <div><span class="bars"><i class="fa-solid fa-bars"></i></span>Category</div>
            <div><i class="fa-solid fa-chevron-down"></i></div>

            <div class="drop-down" [@expandPanel]="isCategoryDropDownActive ? 'expanded' : 'collapsed'">
                <ul>
                    @for (category of categoryList|async; track category._id) {
                        <li><a [routerLink]="['/', 'shop']" [queryParams]="{'category':category._id, 'page':1}">{{category.name}}</a></li>
                    }
                </ul>
            </div>
        </div>
        <div class="nav-container">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a [routerLink]="['/','shop']">Shop</a></li>
                <li><a href="#">Shop Details</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </div>
        <div class="freatures-container">
            <div class="cart-container" routerLink="cart"><i class="fa-solid fa-cart-shopping"></i> <span class="cart-no">{{totalCartProducts}}</span></div>
            <div class="account-menu"> 
                <div class="header">
                    <button (click)="isAccountMenuOpened = !isAccountMenuOpened"><i class="fa-regular fa-user"></i></button>
                </div>
                <div class="body" [class.active]="isAccountMenuOpened">
                    @if (isUserLogined) {
                        <button>Hi! {{userName}}</button>
                        <button (click)="isAccountMenuOpened = false" routerLink="/profile">Profile</button>
                        <button (click)="isAccountMenuOpened = false" routerLink="/order-history">Order History</button>
                        <button (click)="logout()">Log out</button>
                    }@else {
                        <button (click)="isAccountMenuOpened = false" [routerLink]="['/', 'login']">Login</button>
                    }
                </div>
            </div>
        </div>
    </div>

    <div class="header-2">
        <div class="logo-container">
            <h1 routerLink="/">LOGO</h1>
        </div>
        <div class="freatures-container">
            <div class="search">
                <button class="search-btn">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </div>
            <div class="cart-container" routerLink="cart"><i class="fa-solid fa-cart-shopping"></i> <span class="cart-no">{{totalCartProducts}}</span></div>
            <div class="account-menu"> 
                <div class="header">
                    <button (click)="isAccountMenuOpened = !isAccountMenuOpened"><i class="fa-regular fa-user"></i></button>
                </div>
                <div class="body" [class.active]="isAccountMenuOpened">
                    @if (isUserLogined) {
                        <button>Hi! {{userName}}</button>
                        <button (click)="isAccountMenuOpened = false" routerLink="/profile">Profile</button>
                        <button (click)="isAccountMenuOpened = false" routerLink="/order-history">Order History</button>
                        <button (click)="logout()">Log out</button>
                    }@else {
                        <button (click)="isAccountMenuOpened = false" [routerLink]="['/', 'login']">Login</button>
                    }
                </div>
            </div>
            <div class="bars">
                <button (click)="isHeader2Opened = !isHeader2Opened">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </div>
        </div>

        <div class="drop-down" [@expandPanel]="isHeader2Opened ? 'expanded' : 'collapsed'">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Shop</a></li>
                <li><a href="#">Shop Details</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </div>
    </div>
</header>